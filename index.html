<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hacker News Alpine - Baumannzone</title>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js"></script>
  <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
  <script src="main.js"></script>
</head>

<body class="bg-gray-100">
  <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
    <div>
      <div class="hidden sm:block">
        <div class="border-b border-gray-200">
          <nav class="-mb-px flex justify-center space-x-8" aria-label="Tabs">
            <a href="/"
              class="border-indigo-500 text-indigo-600 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
              aria-current="page">Top</a>
            <a href="/new.html"
              class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">New</a>
          </nav>
        </div>
      </div>
    </div>

    <section x-data="{ items: [], currentPage: 1 }" x-init="items = await getItems('top', currentPage)">
      <ul role="list" class="space-y-3">
        <template x-for="item, index in items" :key="item.id">
          <li class="bg-white px-4 py-4 shadow sm:rounded-md sm:px-6">
            <!-- Check if item has domain -->
            <template x-if="item.hasOwnProperty('domain')">
              <a :href="item.url" target="_blank" rel="noopener noreferrer">
                <p>
                  <span x-text="item.title" class="text-bold text-slate-700"></span>
                  <span x-text="`(${item.domain})`"></span>
                </p>
              </a>
            </template>

            <!-- Check if item has no domain -->
            <template x-if="!item.hasOwnProperty('domain')">
              <a :href="buildItemLink(item.id)">
                <p>
                  <span x-text="item.title" class="text-bold text-slate-700"></span>
                </p>
              </a>
            </template>

            <p>
              <!-- <span x-text="item.points"></span> -->
              <template x-if="item.hasOwnProperty('user')">
                <span class="text-xs mr-4 text-gray-600"> by </span>
                <span x-text="item.user" class="text-underline"></span>
                <!-- <a :href="buildUserLink(item.user)">
                </a> -->
              </template>
              <span> | </span>
              <span x-text="item.time_ago"></span>
              <span> | </span>
              <a :href="buildItemLink(item.id)" class="text-underline">
                <span x-text="item.comments_count"></span>
                <span> comments</span>
              </a>
            </p>

          </li>
        </template>
      </ul>
    </section>
  </div>

</body>

</html>