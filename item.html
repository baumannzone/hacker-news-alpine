<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HN Alpine.js - Baumannzone</title>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js"></script>
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <script src="main.js"></script>
</head>

<body class="bg-gray-100">
  <!-- Container -->
  <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">

    <!-- Navigation -->
    <header>
      <div class="border-b border-gray-200">
        <nav class="-mb-px flex justify-center space-x-4" aria-label="Tabs">
          <a href="/"
            class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-3 font-medium text-sm">Top</a>
          <a href="/new.html"
            class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-2 px-1 border-b-3 font-medium text-sm">New</a>
        </nav>
      </div>
    </header>

    <!-- Content -->
    <main x-data="{item: {}}" x-init="item = await getItem(getParamFromUrl(document.location.search, 'id'))"
      class="bg-white p-8 shadow rounded-md my-8">

      <div>
        <header>
          <template x-if="item.hasOwnProperty('domain')">
            <a :href="item.url" target="_blank" rel="noopener noreferrer" class="group">
              <h1 x-text="item.title"
                class="text-3xl font-medium underline decoration-cyan-500/40 decoration-4 group-hover:decoration-cyan-500/80 ease-in duration-150">
              </h1>
              <template x-if="item.hasOwnProperty('domain')">
                <span x-text="`(${item.domain})`"
                  class="block font-mono text-gray-400 mt-2 group-hover:text-gray-600 ease-in duration-150"></span>
              </template>
            </a>
          </template>

          <template x-if="!item.hasOwnProperty('domain')">
            <h1 x-text="item.title" class="text-4xl"></h1>
          </template>
        </header>

        <div class="text-sm text-gray-600 mt-2 mb-6">
          <template x-if="item.hasOwnProperty('user') && item.user !== null">
            <span>
              by
              <a :href="buildUserLink(item.user)"
                class="font-medium underline decoration-cyan-500/40 decoration-2 hover:decoration-cyan-500/80 ease-in duration-150"
                x-text="item.user"></a>
              </a>
              <span class="p-2 text-gray-300 select-none">|</span>
            </span>
          </template>
          <span x-text="`${item.points} points`"></span>
          <span class="p-2 text-gray-300 select-none">|</span>
          <span x-text="item.time_ago"></span>
          <span class="p-2 text-gray-300 select-none">|</span>
          <span x-text="`${item.comments_count} comments`"></span>
        </div>
      </div>

      <template x-for="comment in getComments(item)">
        <div :class="`mt-1 mb-2 ml-[${comment.level * 1.5}rem]`">
          <header>
            <span>â€£</span>
            <a :href="buildUserLink(comment.user)"
              class="font-medium text-gray-700 underline decoration-cyan-500/40 decoration-2 hover:decoration-cyan-500/80 ease-in duration-150"
              x-text="comment.user"></a>
            </a>
            <span x-text="comment.time_ago" class="text-gray-500 text-xs"></span>
          </header>
          <div x-html="comment.content" class="text-gray-600 text-sm prose"></div>
        </div>
      </template>
    </main>
  </div>

</body>

</html>